<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  
  <title>Home</title>
  <!-- if IE, use latest rendering -->
  <meta http-equiv ="X-UA-Compatible" content="IE=edge">
</head>
<body onload="onLoad()">
  <div class="container"> <!-- Add space around text and underline-->
    <div class="page-header">
      <h1>Employee Home</h1>
    </div>
    <table id="Empinfo" class="table">
      <tr style="border:2px solid black;">
        <th>Employee Info:</th> <th><a href=# onclick="logout()">Log Out</a></th>
      </tr>
      <tr>
        <td style="border:2px solid black;">Employee Name:</td><td id="empname" style="border:2px solid black;">DUMMY</td>
      </tr>
      <tr>
        <td style="border:2px solid black;">Employee Email:</td><td id="empmail" style="border:2px solid black;">DUMMY</td>
      </tr>
    </table>
  
  <form action="Submit" method="post">
    <div class="page-header">
      <h1>Submit New Requests</h1>
    </div>
     <div class="form-group">
      <label for="exampleTextarea">Amount</label><br/>
      $<input type="number" value="10.00" min="0" step=".01" data-number-to-fixed="2" data-number-stepfactor="100" class="currency" id="amount" name="amount" />
    </div>
  <div class="form-group">
  <div class="form-group">
    <label for="exampleTextarea">Description</label>
    <textarea class="form-control" id="reimbdesc" name="reimbdesc" rows="3">Dummy Text</textarea>
  </div>
  <div class="form-group">
    <label for="exampleInputFile">Upload File (BETA)</label>
    <input type="file" class="form-control-file" id="fileIn" name="fileIn" aria-describedby="file">
    <small id="fileHelp" class="form-text text-muted">Upload file here.</small>
  </div>
    <input type="number" name="HiddenID" id="HiddenID" style="display:none;"/>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
  <div class="page-header">
      <h1>Existing Requests</h1>
    </div>
  <table class="table">
  <thead>
    <tr>
      <th>#</th>
      <th>Status</th>
      <th>Date Submitted</th>
      <th>Date Viewed</th>
      <th>Amount</th>
    </tr>
  </thead>
  <tbody id="toReplace">
    <tr>
      <th scope="row">1</th>
      <td>Dummy</td>
      <td>Dummy</td>
      <td>Dummy</td>
      <td>Dummy</td>
    </tr>
  </tbody>
</table>
</div>
<a href='#' onclick='betafunction()'>BETA: APPROVE ALL</a>
</body>
<script>

function onLoad(){
	if(!sessionStorage.user){
		logout();
	}
	document.getElementById("empname").innerHTML = sessionStorage.user;
	document.getElementById("empmail").innerHTML = sessionStorage.email;
	document.getElementById("toReplace").innerHTML = sessionStorage.table;
    document.getElementById("HiddenID").value = sessionStorage.id;
}
function logout(){
    sessionStorage.removeItem("user");
    sessionStorage.removeItem("pass");
    sessionStorage.removeItem("manager");
    sessionStorage.removeItem("id");
    sessionStorage.removeItem("email");
    sessionStorage.clear();
    
    window.location.href = 'Index.html';
  }
function betafunction(){
	alert("You clicked...");
	let xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		console.log(this.readyState);
		if (this.readyState === 4 && this.status === 200){
			alert("Completed");
		}
	};
	xhttp.open("GET", "Approve", true);
	xhttp.send();
}
</script>
</html>